<?xml version="1.0" encoding="utf-8" ?>

<configuration>

  <configSections>

    <!--要引用log4net 相關ConfigurationSection-->

    <section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler, log4net" />

    <sectionGroup name="userSettings" type="System.Configuration.UserSettingsGroup, System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" >
      <section name="CompressTool.Properties.Settings" type="System.Configuration.ClientSettingsSection, System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" allowExeDefinition="MachineToLocalUser" requirePermission="false" />
    </sectionGroup>
  </configSections>

  <startup>

    <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.5" />

  </startup>

  <log4net>

    <appender name="ConsoleAppender" type="log4net.Appender.ConsoleAppender" >

      <layout type="log4net.Layout.PatternLayout">

        <!--訊息格式 EX: 2016-03-01 18:15:59,912 [10] INFO  Log4netTest.Program - 9-->

        <conversionPattern value="%date [%thread] %-5level %logger %ndc - %message%newline" />

      </layout>

    </appender>

    <appender name="RollingFileAppender" type="log4net.Appender.RollingFileAppender">

      <!--檔名設定為example.log-->

      <file type="log4net.Util.PatternString" value="log/%date{yyyMMdd}.log" />

      <appendToFile value="true" />

      <!--檔案最大容量-->

      <maximumFileSize value="100KB" />

      <layout type="log4net.Layout.PatternLayout">

        <!--印出 日期 層級 Logger名稱 訊息-->

        <conversionPattern value="%date{yyyy-mm-dd HH:mm:ss} [%-5level] %logger - %message%newline" />

      </layout>

    </appender>

    <root>

      <!--Level為INFO的Log才會寫出-->

      <level value="INFO" />

      <!--印到Console上-->

      <appender-ref ref="ConsoleAppender" />

      <!--寫出至檔案-->

      <appender-ref ref="RollingFileAppender" />

    </root>

  </log4net>

  <userSettings>
    <CompressTool.Properties.Settings>
      <setting name="accountCache" serializeAs="String">
        <value />
      </setting>
      <setting name="receiverNameCache" serializeAs="String">
        <value />
      </setting>
      <setting name="receiverHostCache" serializeAs="String">
        <value />
      </setting>
    </CompressTool.Properties.Settings>
  </userSettings>
</configuration>